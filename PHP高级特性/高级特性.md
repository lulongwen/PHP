# PHP 高级特性

## PHP扩展最基本的要求：先要学会安装和加载
* 更高的要求是了解扩展的结构并实现一个简单的扩展
* [PHP扩展开发及内核应用](http://www.cunmou.com/phpbook/preface.md)


## .dll 动态文件编写
  * 封装私有函数，不让别人看到代码
  * .dll 文件反编译



## 高性能的 Mysql

* 有能力写高效语句优化数据库，分库表的策略，主从架构，最后要了解索引的原理



## 高并发
* 秒杀活动
* 高并发需要了解常用的集中解决方案

大流量，分布式架构，例如：负载论衡
大流量网站的优化该如何去做？
  PHP缓存
  生成html静态页面
  使用主辅数据库，把数据库的读写分开
  使用负载均衡器和多台服务器
  首先，确认服务器硬件是否足够支持当前的流量 
  其次，优化数据库访问。 
  第三，禁止外部的盗链。 
  第四，控制大文件的下载。 
  第五，使用不同主机分流主要流量 
  第六，使用流量分析统计软件
  
  

## 参考资料
https://cuiqingcai.com/1479.html
PHP修行之路 https://github.com/GiggleAll/php
全栈 https://github.com/phodal/growth-in-action
  

  



## 缓存
* 主流的 Memcache & Redis
* 使用频率非常高，后端主要是大量使用在缓存数据库结果集，减轻服务器压力
* 前端大部分使用 CDN，对静态资源使用CDN可以加载更快

PHP 缓存机制？
  代码缓存和数据缓存
  APC opcode 缓存
  memcache
  redis
          

## Memcache 缓存， 是一套分布式的高速缓存系统
  Memchache工作流程
  * 先检查客户端的请求数据是否在memcached中，如有，直接把请求数据返回，不再对数据库进行任何操作；
  * 如果请求的数据不在memcached中，就去查数据库，把从数据库中获取的数据返回给客户端，同时把数据缓存一份到memcached中（memcached客户端不负责，需要程序明确实现）；
  * 每次更新数据库的同时更新memcached中的数据，保证一致性；当分配给memcached内存空间用完之后，会使用LRU（Least Recently Used，最近最少使用）策略加上到期失效策略，失效数据首先被替换，然后再替换掉最近未使用的数据。


## Redis 是一个key-value的存储系统，高性能的 key-value数据库
  * 弥补了 memchache key-value存储的不足
  * 对关系数据库起到了很好的补充作用
  
  

## 什么是读写分离？
* 将读的操作和写的操作分开处理，就是读写分离 // 是什么？

* 在项目开发中，我们要注意这几个地方： // 使用时要注意什么？
  在做项目的时候，我就发现这几个问题是比较严谨的：
  * 在写的时候，如果数据量过大，光靠读写分离是不管用的，
  * 还得用分表，分区来进行辅助，还要建立索引
  * 甚至还得对有些变量进行缓存
