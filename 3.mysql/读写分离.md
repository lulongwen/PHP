# Mysql 读写分离-主从复制


## 读写分离场景
* 当我们的数据量很大时，数据库服务器的压力变大，这时候我们需要从架构方面来解决这一问题：
	* 在一个网站中读的操作很多，写的操作很少，这时候我们需要配置读写分离，
	* 把读操作和 写操作分离出来，最大程度的利用好数据库服务器。



## 读写分离的实现原理
* 在执行SQL语句的时候，判断到底是读操作还是写操作，
* 把读的操作转向到读服务器上：从服务器，一般是多台
* 写的操作转到写的服务器上：主服务器，一般是一台，视数据量来看
	* 为了保证多台数据库数据的一致性，需要主从复制


## 主从复制的实现原理
* mysql中有一种日志，叫做bin日志：二进制日志，会记录下所有修改过数据库的sql语句
* 主从复制的原理：
	* 实际是多台服务器都开启 bin日志，
	* 然后主服务器会把执行过的sql语句记录到bin日志中，
	* 之后从服务器读取这个 bin日志，把该日志的内容保存到自己的 中继日志里面，
	* 从服务器再把 中继日志中记录的 sql语句同样的执行一遍
	* 这样从服务器上的数据就和主服务器相同了。
